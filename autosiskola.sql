--
-- Script was generated by Devart dbForge Studio 2019 for MySQL, Version 8.2.23.0
-- Product home page: http://www.devart.com/dbforge/mysql/studio
-- Script date 2022. 02. 10. 17:03:33
-- Server version: 5.5.5-10.4.6-MariaDB
-- Client version: 4.1
--

-- 
-- Disable foreign keys
-- 
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;

-- 
-- Set SQL mode
-- 
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='NO_AUTO_VALUE_ON_ZERO' */;

-- 
-- Set character set the client will use to send SQL statements to the server
--
SET NAMES 'utf8';

--
-- Set default database
--
USE autosiskola;

--
-- Drop table `idopontok`
--
DROP TABLE IF EXISTS idopontok;

--
-- Drop table `vizsgak`
--
DROP TABLE IF EXISTS vizsgak;

--
-- Drop table `jelentkezesek`
--
DROP TABLE IF EXISTS jelentkezesek;

--
-- Drop table `ki_min_oktat`
--
DROP TABLE IF EXISTS ki_min_oktat;

--
-- Drop table `jarmuvek`
--
DROP TABLE IF EXISTS jarmuvek;

--
-- Drop table `ki_mit_oktat`
--
DROP TABLE IF EXISTS ki_mit_oktat;

--
-- Drop table `oktatok`
--
DROP TABLE IF EXISTS oktatok;

--
-- Drop table `kategoriak`
--
DROP TABLE IF EXISTS kategoriak;

--
-- Drop table `tanulok`
--
DROP TABLE IF EXISTS tanulok;

--
-- Set default database
--
USE autosiskola;

--
-- Create table `tanulok`
--
CREATE TABLE tanulok (
  ID INT(11) NOT NULL AUTO_INCREMENT,
  Vezeteknev VARCHAR(255) DEFAULT NULL,
  Keresztnev VARCHAR(255) DEFAULT NULL,
  Harmadiknev VARCHAR(255) DEFAULT NULL,
  Anyja_neve VARCHAR(255) DEFAULT NULL,
  Szuletesi_orszag VARCHAR(255) DEFAULT NULL,
  Szuletesi_hely VARCHAR(255) DEFAULT NULL,
  Szuletesi_ido DATE DEFAULT NULL,
  Allampolgarsag VARCHAR(255) DEFAULT NULL,
  Lakcim_irsz INT(11) DEFAULT NULL,
  Lakcim_telepules VARCHAR(255) DEFAULT NULL,
  Lakcim_utca VARCHAR(255) DEFAULT NULL,
  Lakcim_hazszam INT(11) DEFAULT NULL,
  Lakcim_egyeb VARCHAR(255) DEFAULT NULL,
  Ertesitesi_cim_irsz INT(11) DEFAULT NULL,
  Ertesitesi_cim_telepules VARCHAR(255) DEFAULT NULL,
  Ertesitesi_cim_utca VARCHAR(255) DEFAULT NULL,
  Ertesitesi_cim_hazszam INT(11) DEFAULT NULL,
  Ertesitesi_cim_egyeb VARCHAR(255) DEFAULT NULL,
  Email VARCHAR(50) DEFAULT NULL,
  Telefonszam VARCHAR(255) DEFAULT NULL,
  Szemelyiigazolvany_szama VARCHAR(255) DEFAULT NULL,
  Szemelyiigazolvany_ervenyesseg DATE DEFAULT NULL,
  Szemelyiigazolvany_kiallito_orszag VARCHAR(255) DEFAULT NULL,
  Jogositvany_szama VARCHAR(255) DEFAULT NULL,
  Jogositvany_ervenyesseg DATE DEFAULT NULL,
  Egeszsegugyi_csoportkod INT(6) DEFAULT NULL,
  Jogositvany_kiallito_orszag VARCHAR(255) DEFAULT NULL,
  Gondviselo_Email VARCHAR(50) DEFAULT NULL,
  Gondviselo_Telefonszam VARCHAR(255) DEFAULT NULL,
  Felhasznalonev VARCHAR(10) DEFAULT NULL,
  Jelszo VARBINARY(32) DEFAULT NULL,
  PRIMARY KEY (ID)
)
ENGINE = INNODB,
AUTO_INCREMENT = 5,
AVG_ROW_LENGTH = 4096,
CHARACTER SET utf8,
COLLATE utf8_hungarian_ci;

--
-- Create table `kategoriak`
--
CREATE TABLE kategoriak (
  ID INT(11) NOT NULL AUTO_INCREMENT,
  Kategoria VARCHAR(6) DEFAULT NULL,
  Elmeleti_oraszam INT(11) DEFAULT NULL,
  Gyakorlati_oraszam INT(11) DEFAULT NULL,
  PRIMARY KEY (ID)
)
ENGINE = INNODB,
AUTO_INCREMENT = 12,
AVG_ROW_LENGTH = 2978,
CHARACTER SET utf8,
COLLATE utf8_hungarian_ci;

--
-- Create table `oktatok`
--
CREATE TABLE oktatok (
  Oktato_azonosito INT(11) NOT NULL,
  Vezeteknev VARCHAR(255) DEFAULT NULL,
  Keresztnev VARCHAR(255) DEFAULT NULL,
  Harmadiknev VARCHAR(255) DEFAULT NULL,
  Anyja_neve VARCHAR(255) DEFAULT NULL,
  Szuletesi_orszag VARCHAR(255) DEFAULT NULL,
  Szuletesi_hely VARCHAR(255) DEFAULT NULL,
  Szuletesi_ido DATE DEFAULT NULL,
  Allampolgarsag VARCHAR(255) DEFAULT NULL,
  Lakcim_irsz INT(11) DEFAULT NULL,
  Lakcim_telepules VARCHAR(255) DEFAULT NULL,
  Lakcim_utca VARCHAR(255) DEFAULT NULL,
  Lakcim_hazszam INT(11) DEFAULT NULL,
  Lakcim_egyeb VARCHAR(255) DEFAULT NULL,
  Email VARCHAR(50) DEFAULT NULL,
  Telefonszam VARCHAR(255) DEFAULT NULL,
  Szemelyiigazolvany_szama VARCHAR(255) DEFAULT NULL,
  Jogositvany_szama VARCHAR(255) DEFAULT NULL,
  felhasznalonev VARCHAR(10) DEFAULT NULL,
  jelszo VARBINARY(32) DEFAULT NULL,
  PRIMARY KEY (Oktato_azonosito)
)
ENGINE = INNODB,
AVG_ROW_LENGTH = 5461,
CHARACTER SET utf8,
COLLATE utf8_hungarian_ci;

--
-- Create table `ki_mit_oktat`
--
CREATE TABLE ki_mit_oktat (
  oktato_ID INT(11) NOT NULL,
  kategoria_ID INT(11) NOT NULL,
  PRIMARY KEY (oktato_ID, kategoria_ID)
)
ENGINE = INNODB,
AVG_ROW_LENGTH = 2048,
CHARACTER SET utf8,
COLLATE utf8_hungarian_ci;

--
-- Create foreign key
--
ALTER TABLE ki_mit_oktat 
  ADD CONSTRAINT FK_oktato_kategoria_kapcsolo_kategoria_ID FOREIGN KEY (kategoria_ID)
    REFERENCES kategoriak(ID) ON DELETE NO ACTION;

--
-- Create foreign key
--
ALTER TABLE ki_mit_oktat 
  ADD CONSTRAINT FK_oktato_kategoria_kapcsolo_oktato_ID FOREIGN KEY (oktato_ID)
    REFERENCES oktatok(Oktato_azonosito) ON DELETE NO ACTION;

--
-- Create table `jarmuvek`
--
CREATE TABLE jarmuvek (
  ID INT(11) NOT NULL AUTO_INCREMENT,
  Oktatoi_engedely_szama VARCHAR(255) DEFAULT NULL,
  Oktatoi_engedely_ervenyessege DATE DEFAULT NULL,
  Forgalmi_engedely_szama VARCHAR(255) DEFAULT NULL,
  Rendszam VARCHAR(255) DEFAULT NULL,
  Gepjarmu_gyartmany VARCHAR(255) DEFAULT NULL,
  Gepjarmu_tipus VARCHAR(255) DEFAULT NULL,
  PRIMARY KEY (ID)
)
ENGINE = INNODB,
AUTO_INCREMENT = 14,
AVG_ROW_LENGTH = 1260,
CHARACTER SET utf8,
COLLATE utf8_hungarian_ci;

--
-- Create table `ki_min_oktat`
--
CREATE TABLE ki_min_oktat (
  Oktato_ID INT(11) NOT NULL,
  Jarmu_ID INT(11) NOT NULL,
  PRIMARY KEY (Oktato_ID, Jarmu_ID)
)
ENGINE = INNODB,
AVG_ROW_LENGTH = 2340,
CHARACTER SET utf8,
COLLATE utf8_hungarian_ci;

--
-- Create foreign key
--
ALTER TABLE ki_min_oktat 
  ADD CONSTRAINT FK_oktato_jarmu_kapscolo_Jarmu_ID FOREIGN KEY (Jarmu_ID)
    REFERENCES jarmuvek(ID) ON DELETE NO ACTION;

--
-- Create foreign key
--
ALTER TABLE ki_min_oktat 
  ADD CONSTRAINT FK_oktato_jarmu_kapscolo_Oktato_ID FOREIGN KEY (Oktato_ID)
    REFERENCES oktatok(Oktato_azonosito) ON DELETE NO ACTION;

--
-- Create table `jelentkezesek`
--
CREATE TABLE jelentkezesek (
  ID INT(11) NOT NULL AUTO_INCREMENT,
  tanulo_ID INT(11) NOT NULL,
  kategoria_ID INT(11) NOT NULL,
  oktato_ID INT(11) NOT NULL,
  jarmu_ID INT(11) NOT NULL,
  jelentkezes_datuma DATE NOT NULL,
  PRIMARY KEY (ID)
)
ENGINE = INNODB,
AUTO_INCREMENT = 8,
AVG_ROW_LENGTH = 2340,
CHARACTER SET utf8,
COLLATE utf8_hungarian_ci;

--
-- Create foreign key
--
ALTER TABLE jelentkezesek 
  ADD CONSTRAINT FK_jelentkezesek_jarmuvek_ID FOREIGN KEY (jarmu_ID)
    REFERENCES jarmuvek(ID) ON DELETE NO ACTION ON UPDATE NO ACTION;

--
-- Create foreign key
--
ALTER TABLE jelentkezesek 
  ADD CONSTRAINT FK_jelentkezesek_oktatok_Oktato_azonosito FOREIGN KEY (oktato_ID)
    REFERENCES oktatok(Oktato_azonosito) ON DELETE NO ACTION ON UPDATE NO ACTION;

--
-- Create foreign key
--
ALTER TABLE jelentkezesek 
  ADD CONSTRAINT FK_tanulo_kategoria_kapcsolo_kategoria_ID FOREIGN KEY (kategoria_ID)
    REFERENCES kategoriak(ID) ON DELETE NO ACTION;

--
-- Create foreign key
--
ALTER TABLE jelentkezesek 
  ADD CONSTRAINT FK_tanulo_kategoria_kapcsolo_tanulo_ID FOREIGN KEY (tanulo_ID)
    REFERENCES tanulok(ID) ON DELETE NO ACTION;

--
-- Create table `vizsgak`
--
CREATE TABLE vizsgak (
  ID INT(11) NOT NULL AUTO_INCREMENT,
  jelentkezes_ID INT(11) DEFAULT NULL,
  nev VARCHAR(255) DEFAULT NULL,
  datum DATE DEFAULT NULL,
  sikeres VARCHAR(255) NOT NULL DEFAULT '1',
  PRIMARY KEY (ID)
)
ENGINE = INNODB,
CHARACTER SET utf8,
COLLATE utf8_hungarian_ci;

--
-- Create foreign key
--
ALTER TABLE vizsgak 
  ADD CONSTRAINT FK_vizsgak_jelentkezesek_ID FOREIGN KEY (jelentkezes_ID)
    REFERENCES jelentkezesek(ID) ON DELETE NO ACTION ON UPDATE NO ACTION;

--
-- Create table `idopontok`
--
CREATE TABLE idopontok (
  ID INT(11) NOT NULL AUTO_INCREMENT,
  datum DATETIME DEFAULT NULL,
  tartam INT(11) DEFAULT 60,
  jelentkezed_ID INT(11) DEFAULT NULL,
  PRIMARY KEY (ID)
)
ENGINE = INNODB,
CHARACTER SET utf8,
COLLATE utf8_hungarian_ci;

--
-- Create foreign key
--
ALTER TABLE idopontok 
  ADD CONSTRAINT FK_idopontok_jelentkezesek_ID FOREIGN KEY (jelentkezed_ID)
    REFERENCES jelentkezesek(ID) ON DELETE NO ACTION ON UPDATE NO ACTION;

-- 
-- Dumping data for table tanulok
--
INSERT INTO tanulok VALUES
(1, 'Tanul', 'Elek', NULL, 'Anyja', 'Magyarország', 'Tatabánya', '1992-02-05', 'magyar', 9026, 'Győr', 'Oktatás utca', 1, NULL, 9026, 'Győr', 'Oktatás utca', 1, NULL, 'tanulok@jedlik.eu', '+36/70-888-2222', '25487BC', '2026-02-05', 'Magyarország', 'BC45879', '2026-02-05', 101, 'Magyarország', 'anya@jedlik.eu', '+36/20-888-4444', 'DTE', x'54616E756C6F3132333435'),
(2, 'Buta', 'Jancsi', 'Péter', 'Erika', 'Szlovák', 'Komárno', '1990-12-05', 'szlovák', 9024, 'Győr', 'Lakatos utca', 8, '2/B', 9024, 'Győr', 'Lakatos utca', 8, NULL, 'lakatos@jedlik.eu', '+36/50-111-5858', '58745CC', '2022-02-05', 'Szlovákia', '', NULL, NULL, NULL, 'jancsika@jedlik.eu', '+36/50-111-2222', 'DBJ', x'54616E756C6F3132333435'),
(3, 'Bukta', 'Lívia', NULL, 'Viktória', 'Románia', 'Bukarest', '1998-02-05', 'román', 9022, 'Győr', 'Vas utca', 8, '6.em', 9022, 'Győr', 'Vas utca', 8, '6.em', 'vasas@jedlik.eu', '+36/96-514-555', '25142KC', '2024-02-05', 'Románia', NULL, NULL, NULL, NULL, 'vasanya@jedlik-eu', '+36/90-123-456', 'DBL', x'54616E756C6F3132333435'),
(4, 'Kis', 'János', NULL, 'Petra', 'Magyarország', 'Győr', '1987-02-08', 'magyar', 9024, 'Győr', 'Veres utca', 5, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL);

-- 
-- Dumping data for table kategoriak
--
INSERT INTO kategoriak VALUES
(1, 'B', 28, 29),
(2, 'C', 80, 29),
(3, 'D1', 40, 29),
(4, 'D', 28, 29),
(5, 'BE', 22, 16),
(6, 'C1E', 20, 14),
(7, 'CE', 20, 14),
(8, 'D1E', 22, 14),
(9, 'DE', 20, 14),
(10, 'AM', 16, 10),
(11, 'T', 56, 24);

-- 
-- Dumping data for table oktatok
--
INSERT INTO oktatok VALUES
(54872, 'Teszt', 'Elek', NULL, 'Anya', 'Magyarország', 'Győr', '1966-01-06', 'magyar', 9024, 'Győr', 'Jedlik utca', 6, NULL, 't.elek@jedlik.eu', '+36/70-123-4567', 'AS5684', '6548BS', 'TE', x'54453132333435'),
(74859, 'Potya', 'János', NULL, 'Cili', 'Németország', 'Bern', '1959-02-05', 'német', 8200, 'Veszprém', 'Kacsa utca', 55, NULL, 'p.jancsi@jedlik.eu', '+36/20-888-1597', 'HK5987', '2549LB', 'PJ', x'504A3132333435'),
(98758, 'Nagy', 'László', 'Tamás', 'Apa', 'Magyarország', 'Veszprém', '1984-02-05', 'magyar', 9028, 'Győr', 'Pipacs utca', 4, NULL, 'nlt@jedlik.eu', '+36/30-858-1122', 'DS5487', '6857KC', 'NL', x'4E4C3132333435');

-- 
-- Dumping data for table jarmuvek
--
INSERT INTO jarmuvek VALUES
(1, '852369', '2026-02-05', 'CK95784', 'ABC-123', 'Opel', 'Astra H'),
(2, '758945', '2030-02-05', 'BC57899', 'TTT-999', 'Ford', 'Mondeo'),
(3, '758945', '2024-02-05', 'AS75849', 'CCC-458', 'Man', NULL),
(4, '154758', '2022-02-05', 'BF54785', 'KCM-111', 'DAF', NULL),
(5, '256525', '2030-02-05', 'KJ49395', 'AAB-234', 'Ford', 'Tourneo'),
(6, '657866', '2026-02-05', 'KP64645', 'AAA-116', 'Scania', 'Touring'),
(7, '877744', '2022-02-05', 'ZG44447', 'PAP-416', 'Lakókocsi', NULL),
(8, '485755', '2024-02-05', 'JK55566', 'KAP-435', 'Mercedes', NULL),
(9, '795554', '2023-02-05', 'JU86849', 'LAK-578', 'Renault', NULL),
(10, '887574', '2026-02-05', 'KJ59685', 'NEO-616', 'Neoplan', 'Tourliner'),
(11, '445877', '2040-02-05', 'EL78954', 'ELK-466', 'Volvo', 'Electric 7900'),
(12, '575214', '2022-02-05', 'TK52488', 'ACB-911', 'Piagio', '50'),
(13, '781112', '2024-02-05', 'AB12457', 'ABA-124', 'NewHolland', 'T6');

-- 
-- Dumping data for table jelentkezesek
--
INSERT INTO jelentkezesek VALUES
(1, 1, 1, 54872, 1, '0000-00-00'),
(2, 1, 2, 54872, 1, '0000-00-00'),
(3, 2, 2, 54872, 1, '0000-00-00'),
(4, 2, 4, 54872, 1, '0000-00-00'),
(5, 3, 1, 54872, 1, '0000-00-00'),
(6, 4, 10, 54872, 1, '0000-00-00'),
(7, 4, 11, 54872, 1, '0000-00-00');

-- 
-- Dumping data for table vizsgak
--
-- Table autosiskola.vizsgak does not contain any data (it is empty)

-- 
-- Dumping data for table ki_mit_oktat
--
INSERT INTO ki_mit_oktat VALUES
(54872, 3),
(54872, 6),
(54872, 9),
(74859, 1),
(74859, 2),
(98758, 1),
(98758, 3),
(98758, 9);

-- 
-- Dumping data for table ki_min_oktat
--
INSERT INTO ki_min_oktat VALUES
(54872, 10),
(54872, 12),
(74859, 1),
(74859, 6),
(74859, 10),
(98758, 1),
(98758, 3);

-- 
-- Dumping data for table idopontok
--
-- Table autosiskola.idopontok does not contain any data (it is empty)

-- 
-- Restore previous SQL mode
-- 
/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;

-- 
-- Enable foreign keys
-- 
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;